<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <form action="" method="" id="frm_main">
        아이디:<input type="text" id="input_id" value="myid"><br/> <!-- value라는것이 중요하다 -->
        비번:<input type="password" id="input_pw" placeholder="비밀번호 입력"><br/> <!--그냥 입력값-->
        <button id="btn_btn" type="button">단순버튼</button>
        <button id="btn_submit" type="submit">제출(submit역할)</button>

        <br>

        치즈<input type="checkbox" id="chb_cs" class="cbh_option">
        크림<input type="checkbox" id="chb_cr" class="cbh_option">
        시럽<input type="checkbox" id="chb_sr" class="cbh_option">
        <button type="button" id="btn_fullOption">모든 옵션 선택</button>

        <br>

        대<input type="radio" id="rd_l" name="size" value="large">
        중<input type="radio" id="rd_m" name="size" value="medium">

        <!--서버에다 넘기면 value값으로 구분을 하게 된다 value가 뭐다 로 넘겨야 한다
            서버에서는 데이터가 필요하다 그래서 value가 필요함
            name=size value=""
            String name = "medium";
        -->

        <br>
        <select id="selectType">
            <option value="here">매장</option>
            <option value="togo">포장</option>
            <option value="delv">배달</option>
        </select>

    </form>


    <script>

        document.getElementById('btn_btn').addEventListener('click', ()=>{
            document.getElementById('selectType').focus();    //click() submit()  focus()
        });

        console.log( document.getElementById('selectType').value);

        const selectTypeOptions = document.querySelectorAll('#selectType > option');

        for(let option of selectTypeOptions){
            console.log("option : " + option.value + " " + option.selected);
        }



        console.log(document.getElementById('input_id').value);
        document.getElementById('input_pw').value = 'abcde';

        console.log(document.getElementById('chb_cs').checked);
        document.getElementById('chb_cr').checked = true;

        console.log(document.getElementById('rd_l').checked);
        document.getElementById('rd_m').checked = true;
    
        //모든 체크박스 체크버튼 3개다 체크
        document.getElementById('btn_fullOption').addEventListener('click', ()=>{
                /*
            document.getElementById('chb_cs').checked = true;
            document.getElementById('chb_cr').checked = true;
            document.getElementById('chb_sr').checked = true;
            */

            const chbArr = document.getElementsByClassName('cbh_option');
        for(let i=0; i<chbArr.length; i++){
            chbArr[i].checked = true;
        }

        });

        //시나리오
        //제출 버튼을 누를때, 만약 체크박스 옶션이 한개도 선택되어 있지 않으면?
        //옵션 1개는 필수입니다. 경고창 표시

        /*
        //내꺼
        document.getElementById('btn_submit').addEventListener('click', (event) => {
            const chbArr = document.getElementsByClassName('cbh_option');
            let isChecked = false;

            // 체크박스 중 하나라도 체크되었는지 확인
            for(let i = 0; i < chbArr.length; i++) {
                if(chbArr[i].checked) {
                    isChecked = true;
                    break;
                }
            }

            if(!isChecked) {
                // 체크박스가 하나도 선택되지 않은 경우
                alert('옵션 1개는 필수입니다.');
                event.preventDefault(); // 폼 제출 방지
            }
        });
        */





        //선생님풀이
        document.getElementById('frm_main').addEventListener('submit',(enent)=>{
            event.preventDefault();

            const chbArr = document.getElementsByClassName('cbh_option');

            /*
            //case1
            let count = 0;

            for(let i=0; a<chbArr.length; i++){
                //checked true 인게 없으면? -> 한개도 선택 안됨
                //checked 전부 false 면 -> 한개도 선택 안됨
                if(chbArr[i].checked){
                    count++;
                }
            }

            if(count ==0){
                alert('옵션 1개는 필수입니다!');
            }
            */

            let result = false;
            for(let i=0; i<chbArr.length; i++){
                //checked true 인게 없으면? -> 한개도 선택 안됨
                //checked 전부 false 면 -> 한개도 선택 안됨
                if(chbArr[i].checked){
                    result = true;  //10 1 2
                    break;
                }
            }
            if(result == false){
                alert('옵션 1개는 필수입니다!');
            }

            //모든 검증 끝
            //document.getElementById('frm_main').submit();
            //button요소 click();

        });

        //시나리오
        //제출 버튼을 누를때, 만약 체크박스 옶션이 한개도 선택되어 있지 않으면?
        //옵션 1개는 필수입니다. 경고창 표시

        document.getElementById('btn_submit').addEventListener('click', ()=>{
            //코드
        });

        //다른 트리거 조건

    </script>

</body>
</html>